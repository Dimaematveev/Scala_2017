5. Кратчайший маршрут

Швеция богата природными ресурсами, и шведы очень любят соревнования по ориентированию на местности. Житель провинции Смоланд Андрс Линдгрен с детства мечтал победить в таких соревнованиях. Он много тренировался, со временем научился быстро бегать и легко преодолевать препятствия, однако всякий раз его подводил выбор маршрута. В старших классах он попал в сильную группу по информатике и, окончив школу, написал программу для смартфона, которая по карте рассчитывала кратчайший маршрут между двумя точками с учетом препятствий. С помощью этой программы Андерсу удалось выиграть соревнования и исполнить свою заветную мечту. Он был так счастлив, что сразу же поделился радостью на своей странице в Facebook и рассказал о чудо-программе. В Швеции нашлось много желающих установить такую программу на свой смартфон, и ею заинтересовались в фирме «Эрикссон». Представители фирмы обратились к Андерсу Линдгрену с предложением продать программу, однако он запросил слишком высокую цену. Теперь фирма "Эрикссон" устраивает конкурс на лучшую навигационную программу для смартфона, рассчитывающую кратчайший путь до указанного пункта с учетом препятствий. Вам предоставляется уникальная возможность принять участие в конкурсе, несмотря на то, что Вы не являететсь гражданином Швеции.

Необходимо написать программу, которая на вход принимает карту местности и выводит время прохождения по кратчайшему маршруту или "-1", если маршрут пройти нельзя.

Карта местности представляет собой двухмерную сетку с условными обозначениями сложности прохождения каждой клетки.


Входные данные:
На вход программы подаются текстовые строки, описывающие карту местности следующим образом:
— первая строка - два числа (от 1 до 1000), записанные через пробел. Это ширина и высота карты в ячейках.
— далее каждая строка представляет собой одну строку карты (один символ — одна ячейка)
— символов в строке может быть больше, чем ширина карты, в этом случае оставшиеся до конца строки символы отбрасываются
— все строки разделяются символом перевода строки "\n" (0x0A, формат UNIX)

Ячейки бывают четырех видов:
1. Проходимые (с указанием времени прохождения данной клетки в условных единицах). Например, "0", "1" или "5". Для простоты визуального восприятия клетка с временем прохождения 1 может записываться в виде пробела: " ".
2. Непроходимые (через которые нельзя пройти ни в одну строну). Обозначаются как "x" (английская раскладка, нижний регистр)
3. Начало маршрута (не участвует в подсчете времени прохождения). Обозначается как "A" (английская раскладка, верхний регистр)
4. Конец маршрута (считается, что время прохождения этой клетки равно 1). Обозначается как "B" (английская раскладка, верхний регистр)

Выходные данные:
В единственной строке выведите время прохождения по кратчайшему маршруту или "-1", если маршрут пройти нельзя.

Решение:
Эта задача решается с помощью BFS на 0-9 графе. Подробнее по ссылке